{"ast":null,"code":"import{Header}from'../../Components/Header/Header.js';import'./Register.css';import react,{useState}from'react';import{Footer}from'../../Components/Footer/Footer.js';import{url}from'../../Utils/Links.js';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){let navigate=useNavigate();const registerEndPoint=\"register\";const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[cPassword,setCPassword]=useState('');const[error,setError]=useState('');const saveRegisterData=async()=>{if(!name||name===''){setError(\"Name can't be blank\");return;}if(!email||email===''){setError(\"Email can't be blank\");return;}if(!password||password===''){setError(\"Password can't be blank\");return;}try{const res=await fetch(\"\".concat(url,\"/\").concat(registerEndPoint),{method:'POST',headers:{\"Content-Type\":\"application/json\"},credentials:'include',body:JSON.stringify({\"name\":name,\"email\":email,\"password\":password})});if(res.ok){const data=await res.json();if(data.err){setError(data.err);}else{fetch(\"\".concat(url,\"/getcookies\"),{method:\"GET\",headers:{\"Content-Type\":\"appplication/json\"},credentials:\"include\"}).then(res=>{if(res.ok){return res.json();}else{console.log(\"response not working\");}}).then(data=>{if(data.userCookie){console.log(\"cookies\",data.userCookie);navigate('/',{state:{data:data.userCookie}});}if(data.err){console.log(\"No cookie found\",data.err);}}).catch(e=>{console.log(\"Url not repsonding to fetch cookies\",e);});alert(data.msg);}}else{console.log(\"No response from endPoint!\");}}catch(err){console.log(\"Error connecting url!\",err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"RegisterContainer\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"RegisterForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register Yourself!\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",onChange:e=>{setName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",onChange:e=>{setEmail(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:e=>{setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"ConfirmPassword\",onChange:e=>{setCPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"h6\",{style:{color:\"red\",fontSize:\"12px\"},children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>saveRegisterData(),children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=\"/Login\",children:\"Login\"})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Register;","map":{"version":3,"names":["Header","react","useState","Footer","url","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","navigate","registerEndPoint","name","setName","email","setEmail","password","setPassword","cPassword","setCPassword","error","setError","saveRegisterData","res","fetch","concat","method","headers","credentials","body","JSON","stringify","ok","data","json","err","then","console","log","userCookie","state","catch","e","alert","msg","className","children","type","placeholder","onChange","target","value","required","style","color","fontSize","onClick","window","location","href"],"sources":["D:/2023SepDublinBatch/PSAIWebTechnology/MERNProjectWeb/frontend/src/Pages/Register/Register.js"],"sourcesContent":["import { Header } from '../../Components/Header/Header.js';\r\nimport './Register.css';\r\nimport react, { useState } from 'react';\r\nimport {Footer} from '../../Components/Footer/Footer.js';\r\nimport { url } from '../../Utils/Links.js';\r\nimport  {useNavigate}  from 'react-router-dom';\r\n\r\nfunction Register()\r\n{\r\n    let navigate = useNavigate();\r\n    \r\n    const registerEndPoint=\"register\";\r\n\r\n    const [name,setName]=useState('');\r\n    const [email,setEmail]=useState('');\r\n    const [password,setPassword]=useState('');\r\n    const [cPassword,setCPassword]=useState('');\r\n\r\n    const [error,setError]=useState('');\r\n\r\n    const saveRegisterData=async ()=>{\r\n        if(!name || name==='')\r\n        {\r\n            setError(\"Name can't be blank\");\r\n            return;\r\n        }\r\n        if(!email || email==='')\r\n        {\r\n            setError(\"Email can't be blank\");\r\n            return;\r\n        }\r\n        if(!password || password==='')\r\n        {\r\n            setError(\"Password can't be blank\");\r\n            return;\r\n        }\r\n        try\r\n        {\r\n            const res=await fetch(`${url}/${registerEndPoint}`,{method:'POST',headers:{\"Content-Type\":\"application/json\"},\r\n            credentials:'include',body:JSON.stringify({\"name\":name,\"email\":email,\"password\":password})});\r\n            \r\n            if(res.ok)\r\n            {\r\n              const data=await res.json();\r\n              if(data.err)\r\n              {\r\n                   setError(data.err);\r\n              }\r\n              else\r\n              {\r\n                  fetch(`${url}/getcookies`,{method:\"GET\",headers:{\"Content-Type\":\"appplication/json\"},credentials:\"include\"})\r\n                  .then(res=>{\r\n                    if(res.ok)\r\n                    {\r\n                       return res.json();\r\n                    }\r\n                    else\r\n                    {\r\n                       console.log(\"response not working\");\r\n                    }\r\n                  })\r\n                  .then(data=>{\r\n                    if(data.userCookie)\r\n                    {\r\n                        console.log(\"cookies\",data.userCookie);\r\n                        navigate('/',{state:{data:data.userCookie}});\r\n                    }\r\n                    if(data.err)\r\n                    {\r\n                        console.log(\"No cookie found\",data.err);\r\n                    }\r\n                   })\r\n                  .catch(e=>{\r\n                    console.log(\"Url not repsonding to fetch cookies\",e);\r\n                  })\r\n                   alert(data.msg);\r\n                   \r\n              }\r\n            }\r\n            else\r\n            {\r\n                console.log(\"No response from endPoint!\");\r\n            }\r\n        }\r\n        catch(err)\r\n        {\r\n              console.log(\"Error connecting url!\",err);\r\n        }\r\n    }\r\n    return (\r\n    <div className='RegisterContainer'>\r\n      <Header/>\r\n      <div className='RegisterForm'>\r\n         <h2>Register Yourself!</h2>\r\n         <input type=\"text\" placeholder='Name' onChange={(e)=>{setName(e.target.value)}} required/>\r\n         <input type=\"email\" placeholder='Email' onChange={(e)=>{setEmail(e.target.value)}} required/>\r\n         <input type=\"password\" placeholder='Password' onChange={(e)=>{setPassword(e.target.value)}} required/>\r\n         <input type=\"password\" placeholder='ConfirmPassword' onChange={(e)=>{setCPassword(e.target.value)}} required/>\r\n         <h6 style={{color:\"red\",fontSize:\"12px\"}}>{error}</h6>\r\n         <button onClick={()=>saveRegisterData()}>Submit</button>\r\n         <button onClick={()=>window.location.href=\"/Login\"}>Login</button>\r\n      </div>\r\n      <Footer/>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}